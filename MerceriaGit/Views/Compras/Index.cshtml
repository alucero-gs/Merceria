@model IEnumerable<MerceriaGit.Models.Compras>

@{
    ViewBag.Title = "Lista compras";
    Layout = "~/Views/Shared/_LayoutCompras.cshtml";
}

<h2 class="text-center" style="font-family: 'Playfair Display'">Lista de las compras realizadas</h2>

<br />
<div style="height:50rem;width:100%;">
    <img style="height:100%;width:100%;" src="~/Content/Imagenes/inventario.jpg" alt="Alternate Text" />
</div>

<p>
    @Html.ActionLink("Realizar una nueva compra", "Create")
</p>
<br />
<input class="form-control" id="myInput" type="text" placeholder="Buscar..">
<br />
<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Cantidad)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Subtotal)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IVA)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Total)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Estado)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Productos.Nombre)
            </th>
            <th>Accciones</th>
        </tr>
    </thead>

    @foreach (var item in Model)
    {
        <tbody id="myTable">
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Cantidad) c/u
                </td>
                <td>
                    $ @Html.DisplayFor(modelItem => item.Subtotal)
                </td>
                <td>
                    $ @Html.DisplayFor(modelItem => item.IVA)
                </td>
                <td>
                    $ @Html.DisplayFor(modelItem => item.Total)
                </td>
                <td>
                    @{
                        var estado = "";
                        if (item.Estado == 1)
                        {
                            estado = "Activo";
                        }
                        else
                        {
                            estado = "Desactivado";
                        }
                    }
                    @estado
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Productos.Nombre)
                </td>
                <td>
                    @Html.ActionLink("Editar", "Edit", new { id = item.Id },new {@class= "btn btn-success", @style = "font-size:1.5rem;font-family: 'Playfair Display';"}) |
                    @Html.ActionLink("Detalles", "Details", new { id = item.Id }, new { @class = "btn btn-info", @style = "font-size:1.5rem;font-family: 'Playfair Display';" }) |
                    @Html.ActionLink("Borrar", "Delete", new { id = item.Id }, new { @class = "btn btn-danger", @style = "font-size:1.5rem;font-family: 'Playfair Display';" })
                </td>
            </tr>
        </tbody>
    }
</table>
<p>Nota: Para realizar una busqueda rapida, puede ingresar datos en el buscador superior.</p>


<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>
